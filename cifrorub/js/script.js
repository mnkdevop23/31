
var ffuu = [{
    name: "Григорий",
    surname: "Ellis",
    gender: "male",
    region: "England",
    age: 30,
    title: "mr",
    phone: "(888) 357 2194",
    birthday: {
        dmy: "17/01/1988",
        mdy: "01/17/1988",
        raw: 569414483
    },
    email: "frederick_88@example.com",
    password: "Ellis88^$",
    credit_card: {
        expiration: "5/22",
        number: "6847-7304-9318-9983",
        pin: 1032,
        security: 860
    },
    photo: "img/82.jpg"
}, {
    name: "Дарина",
    surname: "Price",
    gender: "male",
    region: "England",
    age: 35,
    title: "mr",
    phone: "(956) 138 7724",
    birthday: {
        dmy: "17/02/1983",
        mdy: "02/17/1983",
        raw: 414338682
    },
    email: "james_price@example.com",
    password: "Price83({",
    credit_card: {
        expiration: "5/19",
        number: "5381-3952-8096-8421",
        pin: 1996,
        security: 184
    },
    photo: "img/28.jpg"
}, {
    name: "Кирилл",
    surname: "Walsh",
    gender: "male",
    region: "England",
    age: 23,
    title: "mr",
    phone: "(857) 830 9697",
    birthday: {
        dmy: "05/02/1995",
        mdy: "02/05/1995",
        raw: 791967949
    },
    email: "evan-walsh@example.com",
    password: "Walsh95{}",
    credit_card: {
        expiration: "11/26",
        number: "4139-5334-2567-5634",
        pin: 3463,
        security: 622
    },
    photo: "img/12.jpg"
}, {
    name: "Зинаида",
    surname: "Ross",
    gender: "female",
    region: "England",
    age: 31,
    title: "ms",
    phone: "(204) 206 3624",
    birthday: {
        dmy: "08/07/1987",
        mdy: "07/08/1987",
        raw: 552782244
    },
    email: "naomi-ross@example.com",
    password: "Ross87&#",
    credit_card: {
        expiration: "7/26",
        number: "2365-4161-8521-7349",
        pin: 4512,
        security: 864
    },
    photo: "img/61.jpg"
}, {
    name: "Ростислав",
    surname: "Saunders",
    gender: "male",
    region: "England",
    age: 24,
    title: "mr",
    phone: "(881) 353 2046",
    birthday: {
        dmy: "31/08/1994",
        mdy: "08/31/1994",
        raw: 778377534
    },
    email: "harry_94@example.com",
    password: "Saunders94_&",
    credit_card: {
        expiration: "9/20",
        number: "1227-1652-8990-9625",
        pin: 6894,
        security: 845
    },
    photo: "img/81.jpg"
}, {
    name: "Надежда",
    surname: "Scott",
    gender: "female",
    region: "England",
    age: 22,
    title: "ms",
    phone: "(284) 857 3253",
    birthday: {
        dmy: "27/04/1996",
        mdy: "04/27/1996",
        raw: 830657070
    },
    email: "demi-scott@example.com",
    password: "Scott96@&",
    credit_card: {
        expiration: "10/25",
        number: "5419-1062-6676-6751",
        pin: 1340,
        security: 509
    },
    photo: "img/4.jpg"
}, {
    name: "Всеволод",
    surname: "Patel",
    gender: "male",
    region: "England",
    age: 29,
    title: "mr",
    phone: "(394) 161 7621",
    birthday: {
        dmy: "31/07/1989",
        mdy: "07/31/1989",
        raw: 617913105
    },
    email: "jamie-patel@example.com",
    password: "Patel89{!",
    credit_card: {
        expiration: "12/26",
        number: "1427-3436-4522-4261",
        pin: 5223,
        security: 503
    },
    photo: "img/77.jpg"
}, {
    name: "Богдан",
    surname: "Clark",
    gender: "male",
    region: "England",
    age: 36,
    title: "mr",
    phone: "(842) 711 6160",
    birthday: {
        dmy: "14/07/1982",
        mdy: "07/14/1982",
        raw: 395536310
    },
    email: "harry.clark@example.com",
    password: "Clark82*+",
    credit_card: {
        expiration: "11/23",
        number: "3995-6787-3196-2498",
        pin: 1446,
        security: 462
    },
    photo: "img/9.jpg"
}, {
    name: "Кузьма",
    surname: "Chapman",
    gender: "male",
    region: "England",
    age: 27,
    title: "mr",
    phone: "(458) 334 9679",
    birthday: {
        dmy: "13/01/1991",
        mdy: "01/13/1991",
        raw: 663780057
    },
    email: "zachary91@example.com",
    password: "Chapman91&%",
    credit_card: {
        expiration: "1/25",
        number: "7416-5536-7951-8307",
        pin: 9989,
        security: 464
    },
    photo: "img/64.jpg"
}, {
    name: "Лев",
    surname: "Kennedy",
    gender: "male",
    region: "England",
    age: 32,
    title: "mr",
    phone: "(876) 939 4467",
    birthday: {
        dmy: "09/01/1986",
        mdy: "01/09/1986",
        raw: 505642273
    },
    email: "connor86@example.com",
    password: "Kennedy86%$",
    credit_card: {
        expiration: "5/21",
        number: "2450-5086-5087-8648",
        pin: 9065,
        security: 206
    },
    photo: "img/43.jpg"
}, {
    name: "Наталья",
    surname: "Khan",
    gender: "female",
    region: "England",
    age: 30,
    title: "ms",
    phone: "(287) 772 5418",
    birthday: {
        dmy: "09/08/1988",
        mdy: "08/09/1988",
        raw: 587177137
    },
    email: "chloekhan@example.com",
    password: "Khan88)(",
    credit_card: {
        expiration: "5/25",
        number: "1094-1889-1880-3789",
        pin: 6498,
        security: 822
    },
    photo: "img/82(1).jpg"
}, {
    name: "Пётр",
    surname: "Murray",
    gender: "male",
    region: "England",
    age: 29,
    title: "mr",
    phone: "(502) 781 7902",
    birthday: {
        dmy: "10/04/1989",
        mdy: "04/10/1989",
        raw: 608206680
    },
    email: "evanmurray@example.com",
    password: "Murray89^(",
    credit_card: {
        expiration: "5/20",
        number: "7736-8184-9303-5385",
        pin: 7986,
        security: 707
    },
    photo: "img/78.jpg"
}, {
    name: "Татьяна",
    surname: "Russell",
    gender: "female",
    region: "England",
    age: 33,
    title: "mrs",
    phone: "(733) 195 1420",
    birthday: {
        dmy: "15/07/1985",
        mdy: "07/15/1985",
        raw: 490326345
    },
    email: "natasha-85@example.com",
    password: "Russell85=&",
    credit_card: {
        expiration: "2/25",
        number: "7394-8961-3704-9955",
        pin: 7865,
        security: 371
    },
    photo: "img/29.jpg"
}, {
    name: "Павел",
    surname: "Turner",
    gender: "male",
    region: "England",
    age: 33,
    title: "mr",
    phone: "(899) 159 9181",
    birthday: {
        dmy: "22/06/1985",
        mdy: "06/22/1985",
        raw: 488339202
    },
    email: "leon_turner@example.com",
    password: "Turner85&^",
    credit_card: {
        expiration: "12/24",
        number: "9256-2835-7182-6527",
        pin: 6278,
        security: 670
    },
    photo: "img/46.jpg"
}, {
    name: "Прохор",
    surname: "Murphy",
    gender: "male",
    region: "England",
    age: 33,
    title: "mr",
    phone: "(825) 742 6600",
    birthday: {
        dmy: "26/03/1985",
        mdy: "03/26/1985",
        raw: 480673113
    },
    email: "alfie-murphy@example.com",
    password: "Murphy85)@",
    credit_card: {
        expiration: "3/25",
        number: "8168-4921-5758-3239",
        pin: 4226,
        security: 231
    },
    photo: "img/73.jpg"
}, {
    name: "Розалина",
    surname: "Ward",
    gender: "female",
    region: "England",
    age: 28,
    title: "ms",
    phone: "(599) 725 4147",
    birthday: {
        dmy: "13/05/1990",
        mdy: "05/13/1990",
        raw: 642638776
    },
    email: "alice.ward@example.com",
    password: "Ward90*#",
    credit_card: {
        expiration: "4/24",
        number: "5635-9983-3442-8050",
        pin: 9570,
        security: 122
    },
    photo: "img/3.jpg"
}, {
    name: "Оксана",
    surname: "James",
    gender: "female",
    region: "England",
    age: 29,
    title: "mrs",
    phone: "(997) 400 8222",
    birthday: {
        dmy: "05/01/1989",
        mdy: "01/05/1989",
        raw: 599992535
    },
    email: "alisha_james@example.com",
    password: "James89)$",
    credit_card: {
        expiration: "3/19",
        number: "6254-9704-7168-8930",
        pin: 8022,
        security: 773
    },
    photo: "img/6.jpg"
}, {
    name: "Нонна",
    surname: "Anderson",
    gender: "female",
    region: "England",
    age: 34,
    title: "mrs",
    phone: "(485) 824 5311",
    birthday: {
        dmy: "21/10/1984",
        mdy: "10/21/1984",
        raw: 467259063
    },
    email: "holly_84@example.com",
    password: "Anderson84=*",
    credit_card: {
        expiration: "5/24",
        number: "9321-7690-5833-4128",
        pin: 1344,
        security: 157
    },
    photo: "img/11.jpg"
}, {
    name: "Милена",
    surname: "Cook",
    gender: "female",
    region: "England",
    age: 24,
    title: "ms",
    phone: "(257) 564 2350",
    birthday: {
        dmy: "21/05/1994",
        mdy: "05/21/1994",
        raw: 769532170
    },
    email: "ruby.cook@example.com",
    password: "Cook94_}",
    credit_card: {
        expiration: "8/26",
        number: "7589-7315-4239-2656",
        pin: 6378,
        security: 674
    },
    photo: "img/17.jpg"
}, {
    name: "Мария",
    surname: "Lee",
    gender: "female",
    region: "England",
    age: 23,
    title: "ms",
    phone: "(720) 868 1958",
    birthday: {
        dmy: "16/04/1995",
        mdy: "04/16/1995",
        raw: 798011579
    },
    email: "charlotte-95@example.com",
    password: "Lee95$%",
    credit_card: {
        expiration: "12/24",
        number: "4782-2615-4754-5740",
        pin: 2167,
        security: 448
    },
    photo: "img/18.jpg"
}, {
    name: "Таисья",
    surname: "Parker",
    gender: "female",
    region: "England",
    age: 30,
    title: "ms",
    phone: "(699) 902 7799",
    birthday: {
        dmy: "26/08/1988",
        mdy: "08/26/1988",
        raw: 588623309
    },
    email: "layla-parker@example.com",
    password: "Parker88}=",
    credit_card: {
        expiration: "1/24",
        number: "9431-7401-2363-2484",
        pin: 6321,
        security: 691
    },
    photo: "img/40.jpg"
}, {
    name: "Гульназ",
    surname: "Jackson",
    gender: "female",
    region: "England",
    age: 31,
    title: "mrs",
    phone: "(430) 858 5141",
    birthday: {
        dmy: "22/05/1987",
        mdy: "05/22/1987",
        raw: 548711272
    },
    email: "ellie-87@example.com",
    password: "Jackson87#@",
    credit_card: {
        expiration: "4/23",
        number: "1915-6753-2960-8958",
        pin: 6599,
        security: 334
    },
    photo: "img/54.jpg"
}]
$(document).ready(function() {
    setPeople(ffuu);
    tableUpdate()
    function setPeople(ffuu, n = 0) {
        let image = document.querySelector(".person-image img")
        let name = document.querySelector(".person-text--name")
        let sum = document.querySelector(".sum");
        setTimeout((function () {
                n >= ffuu.length && (n = 0);
                let a = Math.floor(11680 * Math.random());
                image.setAttribute("src", ffuu[n].photo),
                    name.innerHTML = ffuu[n].name,
                    sum.innerHTML = "₽" + a,
                    n++,
                    setPeople(ffuu, n)
            }
        ), 5000)
    }
    $(".js-range-slider").ionRangeSlider({
        skin: "round",
        values : ['1 день','30 дней','60 дней','90 дней','180 дней'],
        // min: 0,
        // max: 180,
        // from: 0,
        // step: 30,
        //postfix: " дней",
        grid: true,
        onStart: function(e) {
            $("#calcResult").text("10 000₽")
        },
        onChange: function(e) {
            console.log(e)
            switch(e.from) {
                case 1:  // if (x === 'value1')
                    $("#calcResult").text("100 000₽");
                    break

                case 2:  // if (x === 'value2')
                    $("#calcResult").text("200 000₽");
                    break

                case 3:  // if (x === 'value2')
                    $("#calcResult").text("800 000₽");
                    break

                case 4:  // if (x === 'value2')
                    $("#calcResult").text("3 000 000₽");
                    break
            }
        }
    })

    $.get("v1/bpi/currentprice.json", (function(e) {
            e = JSON.parse(e),
                rate = e.bpi.USD.rate,
                symbol = e.bpi.USD.symbol,
                $(".btc-value").html(rate + "₽")
        }
    ))

    $(".hover-modal").hover(function() {
            $(".popup_custom").css("visibility", "visible")
        }
    )
    $(".close_button").click(function() {
            $(".popup_custom").css("visibility", "hidden")
        }
    )
    function tableUpdate() {
        let t = new Date
            , i = "RUB";
        let n = t.getDate()
            , d = t.getMonth() + 1
            , r = t.getFullYear()
            , o = n + "/" + d + "/" + r
            , s = n + "/" + d + "/" + r
            , a = {
            style: "currency",
            currency: i
        };
        $(".trade-time-td").text(o),
            $(".tomorrow-date").text(s);
        let l, u = Math.floor(24 * Math.random()) + 1, c = Math.floor(3 * Math.random()) + 1, h = Math.floor(48360 * Math.random()) + 300, f = ["Евгения", "Арина", "Павел", "Николай", "Святослав", "Давид", "Ульяна", "Денис", "Мирон", "Ольга", "Ярослав", "Тимофей", "Ефим", "Игорь", "Мирон", "Вячеслав", "Леонид", "Игорь", "Юрий", "Давид", "Людмила", "Ярослав", "Макар", "Людмила", "Виолетта", "Борис", "Екатерина", "Борис", "Кирилл", "Ульяна", "Илья", "Кузьма", "Глеб", "Семен", "Прохор", "Леонид", "Иван", "Николай", "Людмила", "Зоя", "Ника", "Иван", "Ярослав", "Нонна", "Ольга", "Святослав", "Ждан", "Макар", "Ольга", "Александр", "Семен", "Аполлон", "Кузьма", "Ульяна", "Кузьма", "Вячеслав", "Кирилл", "Юрий", "Николай", "Тимофей", "Арсен", "Леонид", "Павел", "Ефим", "Иван", "Павел", "Виолетта", "Екатерина", "Нонна", "Прохор", "Ника", "Ефим", "Глеб", "Senta", "Кирилл", "Борис", "Katharina", "Мирон", "Борис", "Зоя", "Давид", "Прохор", "Екатерина", "Ника", "Вячеслав", "Виолетта", "Аполлон", "Александр", "Игорь", "Семен", "Макар", "Юрий", "Илья", "Игорь", "Александр", "Илья", "Святослав", "Глеб", "Арсен©", "Тимофей"][u], p = ["LTC/EOS", "ETH/LTC", "BTC/ETH", "EOS/ETH"][c], m = $("tbody").children(), g = $(m[m.length - 1]), v = $(m[m.length - 2]), _ = '<td class="bold">' + f + "</td>";
        l = h > 600 ? '<td class="up">' + h.toLocaleString("ru-RU", a) + " </td>" : '<td class="down">' + h.toLocaleString("ru-RU", a) + "</td>";
        let y, b = '<td class="trade-time-td padding-left-td">' + o + "</td>", w = "<td>" + p + "</td>";
        y = '<td><img src="img/table-win.svg" alt="Win"></td>';
        let C = $("<tr/>");
        C.append(_),
            C.append(l),
            C.append(b),
            // C.append(w),
            // C.append('<td><img src="img/table-win.svg" alt="Win"></td>'),
            $("tbody").prepend(C),
            g.remove(),
            v.children("td").addClass("last-td"),
            setTimeout((function() {
                    tableUpdate()
                }
            ), 6e3)
    }

$.getJSON("https://api.ipify.org/?format=json", function(e) {
    window.ip = e.ip
});

var url_string = window.location.href
var url = new URL(url_string);
// var sub_id = url.searchParams.get("sub_id");

$('form').submit(function(event) {
    event.preventDefault();
    $('button').prop('disabled', true);


    function funcSuccess(result) {
        var json = JSON.parse(result);
        console.log(json);
        if (json['message'] === 'phone') {
            $('button').prop('disabled', false);
            Swal.fire({
                title:  '<span style="font-size:30px">Введите корректный номер телефона</span>',
                html: '<span style="font-size:24px">Вы ввели: '+ json['debug'] +'</span>',
                icon: 'error',
                confirmButtonText: "Ok",
            })
        }else if (json['success'] === true) {
            $('button').prop('disabled', false);
            ym(90929247,'reachGoal','lead')
            Swal.fire({
                title:  '<span style="font-size:30px">Заявка на бесплатный доступ подана! Ожидайте звонка оператора</span>',
                html: '<span style="font-size:24px">Если вы не возьмете трубку, Доступ будет аннулирован</span>',
                icon: 'success',
                confirmButtonText: "Я ОЖИДАЮ ЗВОНОК",
            })
        } else {
            Swal.fire({
                title: '<span style="font-size:30px">Ошибка. Вы превысили максимальное количество попыток получить доступ.</span>',
                html: '',
                icon: 'error',
                confirmButtonText: 'Ok',
            })
        }
    }
    var data = new FormData(this);
    let ip = window.ip;
    data.append('ip', ip);
    $.ajax({
        type: $(this).attr('method'),
        url: $(this).attr('action'),
        data: data,
        contentType: false,
        dataType: "html",
        cache: false,
        processData: false,
        success: funcSuccess
    });
});
    $(".btn-scroll, .scroll-to-form").on("click", (function() {
            $([document.documentElement, document.body]).animate({
                scrollTop: $("#scroll_form").offset().top - 100
            }, 500)
        }
    ))
    $('.phone').inputmask({mask: '+7(vvv)-vvv-vvvv',placeholder:'+7(***)-***-****',
        definitions: {
            "v": {
                validator: "[0-9]",
            }
        },})
})
